<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>累土 - 合抱之木，生于毫末；九层之台，起于累土</title>
	<meta name="keywords" content="个人博客,SEO优化,编程开发,大数据,网站建设,学习交流"/>
	<meta name="description" content="码一码互联网的一些事儿,让高大上走入寻常百姓家"/>
	<link rel="shortcut icon" type="image/ico" href="../../images/favicon.ico">
	
	<link rel="stylesheet" type="text/css" href="../../css/animate.css" />
	<style type="text/css">
		*{margin:0;padding:0;}
		body{background:url("images/420.jpg") no-repeat top center;font-size:12px;
			font-family:"微软雅黑";color:#666;
		}
		
		.dm{width:100%;height:100%;position:absolute;left:0;top:0;}
		.dm .d_screen{width:100%;height:100%;position:absolute;top:0;left:0;}
		.dm .d_screen .d_close{width:50px;height:50px;display:block;border-radius:50px;
			background:#C00;text-align:center;line-height:50px;font-size:24px;color:#fff;
			text-decoration:none;position:absolute;right:20px;top:20px;z-index:2;
		}
		
		.dm .d_screen .d_close:hover{background:#800000;}
		.dm .d_screen .d_yy{
			width:100%;height:100%;background:#000;top:0;left:0;
			opacity:0.8;filter:alpha(opacity=80);position:absolute;
			z-index:1;}
		.dm .d_screen .d_show{position:relative;z-index:2;}
		.dm .d_screen .d_show div{font-size:30px;color:#fff;position:absolute;left:0px;top:0px;display:none;}
		
		.dm .d_send{width:100%;height:76px;position:absolute;bottom:0;left:0;z-index:2;}
		.dm .d_send .d_filter{width:100%;height:100%;position:absolute;left:0;bottom:0;background-color:#000;
			opacity:0.8;filter:alha(opacity=80);
		}
		.dm .d_send .d_con{width:100%;height:100%;position:absolute;bottom:0;left:0;
			line-height:76px;text-align:center;
		}
		
		.dm .d_send .d_con .d_text{
			width:605px;height:37px;background-color:#fff;border:0;border-radius:5px 0px 0px 5px;
			text-indent:12px;outline:none;font-size:14px;
		}
		.dm .d_send .d_con .d_btn{width:100px;height:37px;background-color:#3499DA;border-radius:0px 5px 5px 0px;
			outline:none;font-size:14px;font-family:"微软雅黑";color:#fff;
		}
		
	</style>
</head>
<body>
	
	<a href="#" id="btn">弹幕技术</a>
	<div class="dm">
		<div class="d_screen">
			<a href="#" class="d_close">X</a>
			<div class="d_yy"></div>
			<div class="d_show">
				<div>静静的看着你装逼</div>
				<div>你可以随意吐槽</div>
				<div>放心啥也么事</div>
				<div>学习活法</div>
				<div>做正直的事情</div>
				<div>走顺利的路</div>
			</div>
		</div>
		
		<div class="d_send">
			<div class="d_filter"></div>
			<div class="d_con">
				<input type="text" class="d_text" /><input type="button" class="d_btn" value="我要吐槽" />
			</div>
		</div>
	</div>
	
	<script type="text/javascript" src="../../js/jquery-1.11.3.min.js"></script>
	<script type="text/javascript">
		
		$(function(){
			
			var cssArr = ['bounce','swing','fadeInDown','fadeInDownBig','fadeOutUp',
			'fadeOutLeft','fadeOutLeftBig','bounceInRight','bounceOutRight','rollIn','rollOut','hinge'];
			init_screen();
			$('.d_close,#btn').click(function(){
				$('.dm').toggle(1000);
			});
			
			
			$('.d_btn').click(function(){
				var index_css = Math.floor(Math.random() * cssArr.length);
				
				var text = $('.d_text').val();
				$('.d_show').append('<div class="animated '+cssArr[index_css]+'">'+text+'</div>');
				init_screen();
			});
			
		});
		
		// 初始化弹幕
		function init_screen(){
		
			var _top = 0;
		
			$(".d_show").find("div").show().each(function(){
				
				var  _left = $(window).width() - $(this).width();
				
				var _height = $(window).height();
				
				_top = _top + 76;
				
				if(_top > _height-100){
					_top = 0;
				}
				
				$(this).css({left:_left,top:_top,color:getRandomColor()});
				
				var time = Math.floor(Math.random() * 1000) + 8000;
				
				$(this).animate({left:'-'+_left+'px'},time,function(){
					$(this).remove();
				});
				
			});
		}
		
		//随机获取颜色
		function getRandomColor(){
			return '#' + (function(h){
				return new Array(7 - h.length).join('0') + h
			})((Math.random() * 0x1000000 << 0).toString(16))
		}
	</script>
</body>
</html>