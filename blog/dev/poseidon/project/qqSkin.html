<!doctype html>
<html>
<head>
	<!-- 声明当前页面编码集（中文编码<gbk,gb2312>,国际编码<utf-8> -->
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<!-- 声明当前页面的三要素 -->
	<title>JavaWeb开发QQ空间切换皮肤【腾讯内部技术】-poseidon</title>
	<meta name="keywords" content="换肤"/>
	<meta name="description" content="JavaWeb开发QQ空间换肤效果"/>

	<!-- css:层叠样式表，一件美丽的外衣 -->
	<!-- 内嵌样式 -->
	<style type="text/css">
		*{margin:0;padding:0;}
		img{border:0;display:block;margin:0px 1px 1px 0;}
		body{background-image:url(images/1.jpg);background-size:cover;}
		
		/*.skin start */
		.skin{width:100%;height:200px;background-color:#fff;
			position:absolute;left:0;top:0;z-index:3;display:none;
		}
		.skin .pic{width:590px;height:180px;margin:0 auto;}
		.skin .pic .one{width:196px;height:180px;float:left;}
		.skin .pic .one a{float:left;}
		.skin .pic .two{width:98px;height:180px;float:left;}
		.skin .pic .three{width:196px;height:180px;float:left;}
		.skin .pic .three a{float:left;}
		.skin .pic .four{width:98px;height:180px;float:left;}
		
		
		/* 兼容所有浏览器的透明度的解决方案 */
		a:hover img{opacity:0.8;filter:alpha(opacity=80);}
		/* .skin end */
		
		.yy{	
			width:100%;height:100%;background:#000;
			position:absolute;left:0;top:0;
			opacity:0.5;filter:alpha(opacity=80);
			z-index:2;display:none;
		}
	</style>
	
	
</head>
<body>

	<a href="#" id="mySkin">切换</a>

	<!-- div:层，盒子，容器 -->
	<!-- 以class="自定义名称" 称之为类样式 -->
	<div class="skin">
		<div class="pic">
			<div class="one">
				<a href="#">
					<!-- img标签的四要素：src路径，alt描述，width宽度，height高度 -->
					<!-- alt是搜索引擎必须的
						当图片没有宽高属性时，加载时会先计算图片的宽高
						到设置后，就不用计算，它们的加载速度就快，也和SEO有关，用户体验

					-->
					<img src="images/1-1.jpg" alt="" width="195" height="119" />
				</a>
				<a href="#">
					<img src="images/2-2.jpg" alt="" width="97" height="59" />
				</a>
				<a href="#">
					<img src="images/3-3.jpg" alt="" width="97" height="59" />
				</a>
			</div>
			<div class="two">
				<a href="#">
					<img src="images/4-4.jpg" alt="" width="97" height="59" />
				</a>
				<a href="#">
					<img src="images/5-5.jpg" alt="" width="97" height="59" />
				</a>
				<a href="#">
					<img src="images/6-6.jpg" alt="" width="97" height="59" />
				</a>
			</div>
			<div class="three">
				<a href="#">
					<img src="images/7-7.jpg" alt="" width="195" height="119" />
				</a>
				<a href="#">
					<img src="images/8-8.jpg" alt="" width="97" height="59" />
				</a>
				<a href="#">
					<img src="images/9-9.jpg" alt="" width="97" height="59" />
				</a>
			</div>
			<div class="four">
				<a href="#">
					<img src="images/10-10.jpg" alt="" width="97" height="59" />
				</a>
				<a href="#">
					<img src="images/11-11.jpg" alt="" width="97" height="59" />
				</a>
				<a href="#">
					<img src="images/12-12.jpg" alt="" width="97" height="59" />
				</a>
			</div>
		</div>
	</div>
	
	<div class="yy"></div>

	<script type="text/javascript" src="../js/jquery-1.11.3.min.js"></script>
	<script type="text/javascript">
		$(function(){
			
			//点击弹出
			$("#mySkin,.yy").click(function(){
				$(".skin,.yy").toggle("slow");
			});
			
			//点击空白收起
			//$(".yy").click(function(){
			//	$(".skin,.yy").toggle("slow");
			//});
			
			//点击图片链接时切换皮肤
			
//			$(".pic").find("a").click(function(){
//				var src = $(this).find("img").attr("src").replace(/-\d*/ig,"");
//				$("body").css("background-image","url("+src+")");
//			});

			//当前点击一张小图片，切换一张大图片需要记忆下来
			//再次刷新还是刚刚点击选中的背景
			$(".pic").find("a").click(function(){
				var src = $(this).find("img").attr("src").replace(/-\d*/ig,"")
				$("body").css("background-image","url("+src+")");
				
				sessionStorage.setItem("src",src);
				
			});
			
			var sessionSrc = sessionStorage.getItem("src");
			if(sessionSrc){
				$("body").css("background-image","url("+sessionSrc+")");
			}
		});
	</script>
</body>
</html>


<!--

	CSS规则由两个主要的部分构成：选择器，以及一条或多条声明
	
	选择器：通常是你要改变样式的HTML元素
	
			属性   值     属性       值
	h1    {color : red; font-size : 14px;}
	选择器 -----声明--  ---------声明----

	class命名规范：见名知义，不以数字开头，用下划线和横杠相隔
-->