<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>累土 - 合抱之木，生于毫末；九层之台，起于累土</title>
	<meta name="keywords" content="个人博客,SEO优化,编程开发,大数据,网站建设,学习交流"/>
	<meta name="description" content="码一码互联网的一些事儿,让高大上走入寻常百姓家"/>
	<link rel="shortcut icon" type="image/ico" href="../../images/favicon.ico">
	
	<style type="text/css">
		*{margin:0;padding:0;}
		body{font-size:16px;font-family:"微软雅黑";color:#666;
			
		}
		#container{
			width:960px;
			background:#f2f2f2;
			padding:20px;
			margin:60px auto;
			overflow:hidden;
		}
		
		#container #sbox{position:relative;float:left;overflow:hidden;}
		#container #sbox .zoom{position:absolute;left:0;top:0;
			    width: 175px;
				height: 175px;
				border: 1px solid #aaa;
				background: #FEDE4F 50% top no-repeat;
				opacity: .5;
				filter:alpha(opacity=50);
				visibility: visible;
				cursor:move;
				display:none;
		}
		#bbox{float:left;width:480px;height:480px;overflow:hidden;display:none;position:absolute;left:500px;}
		#bbox img{position:absolute;}
		
		#btns{position:relative;}
		#btns ul li{float:left;list-style:none;box-sizing:border-box;width:52px;height:52px;}
		#btns .redk{border:2px solid red;width:48px;height:48px;position:absolute;}
	</style>
</head>
<body>
	
	
	<div id="container">
		<div id="sbox">
			<img src="imgs/6.jpg" width="350" height="350" />
			<div class="zoom"></div>
		</div>
		
		<div id="bbox">
			<img src="imgs/11.jpg" width="800" height="800" >
		</div>
		
	</div>
	
	
	<script type="text/javascript">
		
		/*
			1.移动sbox层时小黄层才显示，mouseover
			2.移出sbox层时小黄层隐藏，mouseout
			3.移动小黄层时。围绕小黄层中心移动(document.mousemove事件)
		*/
		
		window.onload = function(){
			//获取小图层对象
			var sbox = document.getElementById("sbox");
			var zoom = document.getElementsByClassName("zoom")[0];
			var bbox = document.getElementById("bbox");
			var imgDom = bbox.children[0];
			
			
			sbox.onmouseover = function(){
				zoom.style.display = "block";
				bbox.style.display = "block";
			}
			
			sbox.onmouseout = function(){
				zoom.style.display = "none";
				bbox.style.display = "none";
			}
			
			sbox.onmousemove = function(ev){
				var e = ev || window.event;
				
				var maxw = sbox.offsetWidth - zoom.offsetWidth;
				var maxh = sbox.offsetHeight - zoom.offsetHeight;
				
				var x = e.clientX - sbox.offsetLeft - zoom.offsetWidth/2;
				var y = e.clientY - sbox.offsetTop - zoom.offsetHeight/2;
				
				if(x<0) x=0;
				if(y<0) y=0;
				if(x>maxw) x = maxw;
				if(y>maxh) y = maxh;
				zoom.style.left = x + "px";
				zoom.style.top = y + "px";
				
				var xbit = x/maxw;
				var ybit = y/maxh;
				
				imgDom.style.left = xbit*(bbox.offsetWidth - imgDom.offsetWidth) + "px";
				imgDom.style.top = ybit*(bbox.offsetHeight - imgDom.offsetHeight) + "px";
			}
			
			
			
			
			
		}
		
		
	</script>
</body>
</html>