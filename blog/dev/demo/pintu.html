<!doctype html><!--兼容所有HTML-->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>累土 - 合抱之木，生于毫末；九层之台，起于累土</title>
	<meta name="keywords" content="个人博客,SEO优化,编程开发,大数据,网站建设,学习交流"/>
	<meta name="description" content="码一码互联网的一些事儿,让高大上走入寻常百姓家"/>
	<link rel="shortcut icon" type="image/ico" href="../../images/favicon.ico">
  <style>
	*{padding:0;margin:0}
	body{background:#f2f2f2;}
	ul,li{list-style:none;}
	#box{width:700px;height:430px;margin:20px auto;background:#999;}
	
	#lbox{width:1200px;height:180px;background:#999;margin:20px auto;}
	#lbox ul .imgli{background:url("images/395258.gif") center no-repeat;width:140px;height:105px;float:left;margin:20px;cursor:pointer;}
	#lbox ul .m1{background-position:0 0;}
	#lbox ul .m2{background-position:-140px 0;}
	#lbox ul .m3{background-position:-280px 0;}
	#lbox ul .m4{background-position:-420px 0;}
	#lbox ul .m5{background-position:0 -105px;}
	#lbox ul .m6{background-position:-140px -105px;}
	#lbox ul .m7{background-position:-280px -105px;}
	#lbox ul .m8{background-position:-420px -105px;}
	#lbox ul .m9{background-position:0 -210px;}
	#lbox ul .m10{background-position:-140px -210px;}
	#lbox ul .m11{background-position:-280px -210px;}
	#lbox ul .m12{background-position:-420px -210px;;}
	#lbox ul .m13{background-position:0 -315px;;}
	#lbox ul .m14{background-position:-140px -315px;;}
	#lbox ul .m15{background-position:-280px -315px;;}
	#lbox ul .m16{background-position:-420px -315px;;}
	
	#img{position:absolute;}
  </style>
 </head>
 <body>
  
	<img src="images/395258.gif" width="280" height="210" id="img">
	 <div id="box">
		 
	 </div>
	 
	 <div id="lbox">
		<ul id="limg">
			<li class="imgli  m1"></li>
			<li class="imgli  m2"></li>
			<li class="imgli  m3"></li>
			<li class="imgli  m4"></li>
			<li class="imgli  m5"></li>
			<li class="imgli  m6"></li>
			<li class="imgli  m7"></li>
			<li class="imgli  m8"></li>
			<li class="imgli  m9"></li>
			<li class="imgli  m10"></li>
			<li class="imgli  m11"></li>
			<li class="imgli  m12"></li>
			<li class="imgli  m13"></li>
			<li class="imgli  m14"></li>
			<li class="imgli  m15"></li>
			<li class="imgli  m16"></li>
		</ul>
	 </div>
	
	
	<script type="text/javascript">
		window.onload = function(){
			var limgDom = document.getElementById("limg");
			var liDoms = limgDom.children;
			
			//保存li之前的位置 记录
			var arr = [];
			//for(var i=0,len=liDoms.length;i<len;i++){
			//	arr.push([liDoms[i].offsetLeft,liDoms[i].offsetTop]);
			//}
			
			var lboxDom = document.getElementById("lbox");
			var lbLeft = lboxDom.offsetLeft;
			var lbTop = lboxDom.offsetTop;
			var lbWidth = lboxDom.offsetWidth;
			var lbHeight = lboxDom.offsetHeight;
			
			for(var i=0,len=liDoms.length;i<len;i++){
				arr.push([randomNum(lbLeft,(lbLeft+lbWidth-140)),randomNum(lbTop,(lbTop+lbHeight-105))]);
			}
			//重新定位坐标
			for(var i=0,len=arr.length;i<len;i++){
				liDoms[i].style.position = "absolute";
				liDoms[i].style.left = arr[i][0] + "px";
				liDoms[i].style.top = arr[i][1] + "px";
				//liDoms[i].setAttribute("index",(i+1));
				liDoms[i].index = i;  //缓存它的索引
				drag(liDoms[i]);
			}
			
			//拖拽
			function drag(dom){
				
				dom.onmousedown = function(ev){
					for(var i=0,len=liDoms.length;i<len;i++){
						liDoms[i].style.zIndex = 0;
					}
					
					var e = ev || window.event;
					var x = e.clientX;
					var y = e.clientY;
					var oleft = dom.offsetLeft;
					var otop = dom.offsetTop;
					dom.style.zIndex = 1;
					
					document.onmousemove = function(ev){
						var e = ev || window.event;
						var nx = e.clientX;
						var ny = e.clientY;
						
						var nleft = nx - x + oleft;
						var ntop = ny - y + otop;
						
						dom.style.left = nleft + "px";
						dom.style.top = ntop + "px";
						
						
					};
					
					document.onmouseup = function(){
					
						document.onmousemove = null;
						document.onmouseup = null;
						
					};
					
					
					
				};
			}
		}
		
		 //获取start-end的随机数
        function randomNum(start,end){
            return Math.floor(Math.random()*(end - start +1) + start);
        }
	</script>
	
 </body>
</html>