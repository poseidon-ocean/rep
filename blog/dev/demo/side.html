<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>累土 - 合抱之木，生于毫末；九层之台，起于累土</title>
	<meta name="keywords" content="个人博客,SEO优化,编程开发,大数据,网站建设,学习交流"/>
	<meta name="description" content="码一码互联网的一些事儿,让高大上走入寻常百姓家"/>
	<link rel="shortcut icon" type="image/ico" href="../../images/favicon.ico">
	
	<style type="text/css">
		*{margin:0;padding:0;}
		body{background:#111;overflow:hidden;}
		div{position:absolute;}
		
	</style>
</head>
<body>
	
	<script type="text/javascript" src="../../js/jquery-1.11.3.min.js"></script>
	<script type="text/javascript">
		
		$(function(){
			$(document).click(function(e){
			var ev = e||window.event;
				var side = $("<div></div>");
				side.css({width:4,height:30,background:"red"});
				$("body").append(side);
				//获取浏览器的宽度和高度
				var w = $(document).width();
				var h = $(document).height();
				
				//鼠标的位置
				var t = ev.clientY;
				var l = ev.clientX;
				side.css({left:l,top:h});
				side.animate({top:t},500,function(){
					$(this).remove();
					
					//创建多个碎片
					var i =0 ;
					var spdiv = [];
					
					for(;i<50;i++){
						spdiv[i] = $("<div></div>");
						spdiv[i].css({width:6,height:6,background:sj_color(),top:t,left:l});
						$("body").append(spdiv[i]);
						
						spdiv[i].speedX = Math.random()*20 - 10;  //X轴的速度
						spdiv[i].speedY = Math.random()*20 - 10;  //Y轴的速度
					}
					
					setInterval(function(){
						var j = 0;
						for(;j<50;j++){
							if(!spdiv[j]) continue;
							spdiv[j].css({left:spdiv[j].position().left+spdiv[j].speedX,top:spdiv[j].position().top+spdiv[j].speedY});
							spdiv[j].speedY += 1;
							
							if(spdiv[j].position().left<0 || spdiv[j].position().left > w || spdiv[j].position().top >h){
								spdiv[j].remove();
								spdiv[j] = null
							}
						}
					},30);
				});
			});
			
			//返回RGB颜色
			function randomColor(){
				var r = Math.floor(Math.random()*256);
				var g = Math.floor(Math.random()*256);
				var b = Math.floor(Math.random()*256);
				return "rgb("+r+","+g+","+b+")";
			}
			
			
			//创建随机颜色16进制
			function sj_color(){
				var _color=Math.ceil(Math.random()*16777215).toString(16);
				while(_color.length<6){
					_color="0"+_color;
				}
				return "#"+_color;//返回他的随机颜色
			}
		});
		
		
		
	</script>
</body>
</html>